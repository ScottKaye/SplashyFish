var splashyfish=function(e){function t(e){this.direction=s++%2===0?"up":"down",this.length=e,this.x=a}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e,t,n,i){d.beginPath(),d.arc(e,t,n,0,2*Math.PI,!1),d.fillStyle=i,d.fill()}function l(e){var t=document.createElement("audio"),n=document.createElement("source");n.type="audio/mpeg",n.src="snd/"+e,t.appendChild(n),document.body.appendChild(t),t.volume=.5,t.play(),setTimeout(function(){document.body.removeChild(t)},800)}var e=document.getElementById(e);e.width=document.documentElement.clientWidth-5,e.height=document.documentElement.clientHeight-5;var o,c,u,d=e.getContext("2d"),a=e.width,h=e.height,r=h/50,m=r,f=!0,y=!1,s=0,p=16*r,x=1e3,v=0,g={x:a/4,y:h/2,yVel:0},w=[];setInterval(function(){if(f){var e=n(0,h-p);w.push(new t(e)),w.push(new t(h-e-p))}},x),e.addEventListener("mousedown",function(e){1===e.which?(g.yVel=r,l("jump.mp3",0),y=!1):2===e.which&&(f=!0,y=!0)},!1),e.addEventListener("mousemove",function(e){o=e.x,c=e.y},!1),function E(){if(requestAnimationFrame(E),f){d.fillStyle="black",d.fillRect(0,0,a,h),i(g.x,g.y,r,"#fff");var e=g.y-r,t=g.y+r,n=g.x+r,l=g.x-r;w.forEach(function(i){var o;switch(i.direction){default:case"up":o=h-i.length,d.fillStyle="red";break;case"down":o=0,d.fillStyle="blue"}d.fillRect(i.x,o,m,i.length),n>=i.x&&l<i.x+m&&(clearTimeout(u),u=setTimeout(function(){v++},500),("down"===i.direction&&e<=i.length||"up"===i.direction&&t>=h-i.length)&&(alert(v),f=!1)),i.x-=5}),i(g.x,e,3,"yellow"),i(g.x,t,3,"cyan"),i(l,g.y,3,"pink"),i(n,g.y,3,"lime"),y?(g.x=o,g.y=c):(g.y+=g.yVel,g.yVel=g.yVel/.981-1),(0>=e||t>=h)&&(f=!1)}}()};