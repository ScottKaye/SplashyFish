var splashyfish=function(e){function t(e){this.direction=S++%2===0?"up":"down",this.length=e,this.x=p}function n(){setTimeout(function(){if(x){var e=c(0,w-E);k.push(new t(e)),k.push(new t(w-e-E))}n()},b)}function i(){x=!0,n(),s=document.createElement("img"),s.src="img/sprites.png",s.style.display="none",document.body.appendChild(s)}function l(){T.yVel=8,a("jump.mp3",0),g=!1}function o(){k=[],V=0,x=!0,T.yVel=0,T.y=w/2,T.x=p/4,g=!1}function c(e,t){return Math.floor(Math.random()*(t-e+1))+e}function d(e,t,n,i){var l=m.fillStyle;m.beginPath(),m.arc(e,t,n,0,2*Math.PI,!1),m.fillStyle=i,m.fill(),m.fillStyle=l}function u(e,t,n,i){var l=m.fillStyle;m.fillStyle=i,m.font="16px 'Press Start 2P'",m.fillText(e,t,n),m.fillStyle=l}function f(e,t){e-=16,t-=16;var n=C?0:240;m.drawImage(s,n,0,240,240,e,t,32,32)}function a(e){var t=document.createElement("audio"),n=document.createElement("source");n.type="audio/mpeg",n.src="snd/"+e,t.appendChild(n),document.body.appendChild(t),t.volume=.5,t.play(),setTimeout(function(){document.body.removeChild(t)},800)}var e=document.getElementById(e);e.width=window.innerWidth,e.height=400;var r,h,y,s,m=e.getContext("2d"),p=e.width,w=e.height,v=50,x=!0,g=!1,S=0,E=200,b=1e3,V=0,C=!0,T={x:p/4,y:w/2,yVel:0},k=[];setInterval(function(){C=!C},100),i(),e.addEventListener("mousedown",function(e){1===e.which?l():2===e.which&&(x=!0,g=!0)},!1),window.addEventListener("keydown",function(e){32===e.which&&l(),13===e.which&&o()},!1),e.addEventListener("mousemove",function(e){r=e.x,h=e.y},!1),function I(){if(requestAnimationFrame(I),x){m.fillStyle="black",m.fillRect(0,0,p,w),f(T.x,T.y);var e=T.y-16,t=T.y+16,n=T.x+16,i=T.x-16;k.forEach(function(l){var o;switch(l.direction){default:case"up":o=w-l.length,m.fillStyle="red";break;case"down":o=0,m.fillStyle="blue"}m.fillRect(l.x,o,v,l.length),n>=l.x&&i<l.x+v&&(clearTimeout(y),y=setTimeout(function(){V++},100),("down"===l.direction&&e<=l.length||"up"===l.direction&&t>=w-l.length)&&(x=!1)),l.x-=5}),u(V,p-32,32,"#ffffff"),d(T.x,e,2,"yellow"),d(T.x,t,2,"cyan"),d(i,T.y,2,"pink"),d(n,T.y,2,"lime"),g?(T.x=r,T.y=h):(T.y+=T.yVel,T.yVel=T.yVel/.981-.5),(0>=e||t>=w)&&(x=!1)}}()};