var splashyfish=function(e){function t(e){this.direction=v++%2===0?"up":"down",this.length=e,this.x=y}function n(){setTimeout(function(){if(p){var e=o(0,s-g);V.push(new t(e)),V.push(new t(s-e-g))}n()},S)}function i(){b.yVel=m,u("jump.mp3",0),x=!1}function l(){V=[],E=0,p=!0,b.yVel=0,b.y=s/2,b.x=y/4,x=!1}function o(e,t){return Math.floor(Math.random()*(t-e+1))+e}function f(e,t,n,i){var l=r.fillStyle;r.beginPath(),r.arc(e,t,n,0,2*Math.PI,!1),r.fillStyle=i,r.fill(),r.fillStyle=l}function c(e,t,n,i){var l=r.fillStyle;r.fillStyle=i,r.font="16px 'Press Start 2P'",r.fillText(e,t,n),r.fillStyle=l}function u(e){var t=document.createElement("audio"),n=document.createElement("source");n.type="audio/mpeg",n.src="snd/"+e,t.appendChild(n),document.body.appendChild(t),t.volume=.5,t.play(),setTimeout(function(){document.body.removeChild(t)},800)}var e=document.getElementById(e);e.width=window.innerWidth,e.height=400;var d,a,h,r=e.getContext("2d"),y=e.width,s=e.height,m=s/50,w=m,p=!0,x=!1,v=0,g=16*m,S=1e3,E=0,b={x:y/4,y:s/2,yVel:0},V=[];n(),e.addEventListener("mousedown",function(e){1===e.which?i():2===e.which&&(p=!0,x=!0)},!1),window.addEventListener("keydown",function(e){32===e.which&&i(),13===e.which&&l()},!1),e.addEventListener("mousemove",function(e){d=e.x,a=e.y},!1),function T(){if(requestAnimationFrame(T),p){r.fillStyle="black",r.fillRect(0,0,y,s),f(b.x,b.y,m,"#fff");var e=b.y-m,t=b.y+m,n=b.x+m,i=b.x-m;V.forEach(function(l){var o;switch(l.direction){default:case"up":o=s-l.length,r.fillStyle="red";break;case"down":o=0,r.fillStyle="blue"}r.fillRect(l.x,o,w,l.length),n>=l.x&&i<l.x+w&&(clearTimeout(h),h=setTimeout(function(){E++},100),("down"===l.direction&&e<=l.length||"up"===l.direction&&t>=s-l.length)&&(p=!1)),l.x-=5}),c(E,y-32,32,"#ffffff"),f(b.x,e,2,"yellow"),f(b.x,t,2,"cyan"),f(i,b.y,2,"pink"),f(n,b.y,2,"lime"),x?(b.x=d,b.y=a):(b.y+=b.yVel,b.yVel=b.yVel/.981-.5),(0>=e||t>=s)&&(p=!1)}}()};