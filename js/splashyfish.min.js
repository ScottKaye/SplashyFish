var splashyfish=function(e){function t(e){this.direction=s++%2===0?"up":"down",this.length=e,this.x=a}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e,t,n,i){var l=u.fillStyle;u.beginPath(),u.arc(e,t,n,0,2*Math.PI,!1),u.fillStyle=i,u.fill(),u.fillStyle=l}function l(e){var t=document.createElement("audio"),n=document.createElement("source");n.type="audio/mpeg",n.src="snd/"+e,t.appendChild(n),document.body.appendChild(t),t.volume=.5,t.play(),setTimeout(function(){document.body.removeChild(t)},800)}var e=document.getElementById(e);e.width=window.innerWidth,e.height=400;var o,c,d,u=e.getContext("2d"),a=e.width,h=e.height,r=h/50,f=r,y=!0,m=!1,s=0,p=16*r,v=1e3,w=0,x={x:a/4,y:h/2,yVel:0},g=[];setInterval(function(){if(y){var e=n(0,h-p);g.push(new t(e)),g.push(new t(h-e-p))}},v),e.addEventListener("mousedown",function(e){1===e.which?(x.yVel=r,l("jump.mp3",0),m=!1):2===e.which&&(y=!0,m=!0)},!1),e.addEventListener("mousemove",function(e){o=e.x,c=e.y},!1),function b(){if(requestAnimationFrame(b),y){u.fillStyle="black",u.fillRect(0,0,a,h),i(x.x,x.y,r,"#fff");var e=x.y-r,t=x.y+r,n=x.x+r,l=x.x-r;g.forEach(function(i){var o;switch(i.direction){default:case"up":o=h-i.length,u.fillStyle="red";break;case"down":o=0,u.fillStyle="blue"}u.fillRect(i.x,o,f,i.length),n>=i.x&&l<i.x+f&&(clearTimeout(d),d=setTimeout(function(){w++},500),("down"===i.direction&&e<=i.length||"up"===i.direction&&t>=h-i.length)&&(y=!1)),i.x-=5}),i(x.x,e,3,"yellow"),i(x.x,t,3,"cyan"),i(l,x.y,3,"pink"),i(n,x.y,3,"lime"),m?(x.x=o,x.y=c):(x.y+=x.yVel,x.yVel=x.yVel/.981-.5),(0>=e||t>=h)&&(y=!1)}}()};